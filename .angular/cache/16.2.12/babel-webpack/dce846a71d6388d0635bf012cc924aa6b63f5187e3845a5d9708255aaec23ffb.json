{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nexport let LoginComponent = class LoginComponent {\n  constructor(_authService, _router) {\n    this._authService = _authService;\n    this._router = _router;\n    this.displayError = '';\n    this.isLoading = false;\n    this.registerForm = new FormGroup({\n      email: new FormControl(null, [Validators.required, Validators.email]),\n      password: new FormControl(null, [Validators.required, Validators.pattern(/^\\w{6,}$/)])\n    });\n  }\n  register(form) {\n    console.log(form);\n    this.allControlsTouched(form);\n    this.displayError = '';\n    if (form.valid && !this.isLoading) {\n      this.isLoading = true;\n      this._authService.signUp(form.value).subscribe({\n        next: data => {\n          console.log(data);\n          if (data.message == 'success') {\n            this._router.navigate(['/login']);\n          }\n        },\n        error: err => {\n          console.log(err);\n          this.displayError = err.error.message;\n          this.isLoading = false;\n        }\n      });\n    }\n  }\n  allControlsTouched(form) {\n    // array of value\n    Object.values(form.controls).forEach(control => {\n      control.markAsTouched();\n      if (control.controls) {\n        this.allControlsTouched(control);\n      }\n    });\n  }\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})], LoginComponent);","map":{"version":3,"names":["Component","FormControl","FormGroup","Validators","LoginComponent","constructor","_authService","_router","displayError","isLoading","registerForm","email","required","password","pattern","register","form","console","log","allControlsTouched","valid","signUp","value","subscribe","next","data","message","navigate","error","err","Object","values","controls","forEach","control","markAsTouched","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\ME\\Documents\\angular\\e--commerce\\src\\app\\pages\\login\\login.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { AuthService } from 'src/app/Services/auth.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  displayError:string='';\n  isLoading:boolean=false;\n  registerForm: FormGroup = new FormGroup({\n\n    email: new FormControl(null, [Validators.required, Validators.email]),\n    password: new FormControl(null, [\n      Validators.required,\n      Validators.pattern(/^\\w{6,}$/),\n    ]),\n\n \n  });\n\n\nconstructor( private _authService:AuthService , private _router:Router){\n\n\n\n}\n\n  register(form: FormGroup) {\n    console.log(form);\n       \n    this.allControlsTouched(form);\n      this.displayError=''\n    if(form.valid && !this.isLoading){\n    this.isLoading=true;\n     this._authService.signUp(form.value).subscribe(\n      {\n         next:(data)=>{\n\n          console.log(data);\n          if(data.message=='success'){\n            this._router.navigate(['/login'])\n          }\n         },\n         error:(err)=>{\n          console.log(err);\n          this.displayError=err.error.message;\n          \n          this.isLoading=false\n         }\n\n      }\n     )\n    }\n  }\n\n  allControlsTouched(form: FormGroup) {\n    // array of value\n    Object.values(form.controls).forEach((control: any) => {\n      control.markAsTouched();\n      if (control.controls) {\n        this.allControlsTouched(control);\n      }\n    });\n  }\n\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAASC,WAAW,EAAEC,SAAS,EAAEC,UAAU,QAAQ,gBAAgB;AAQ5D,WAAMC,cAAc,GAApB,MAAMA,cAAc;EAe3BC,YAAqBC,YAAwB,EAAWC,OAAc;IAAjD,KAAAD,YAAY,GAAZA,YAAY;IAAuB,KAAAC,OAAO,GAAPA,OAAO;IAd7D,KAAAC,YAAY,GAAQ,EAAE;IACtB,KAAAC,SAAS,GAAS,KAAK;IACvB,KAAAC,YAAY,GAAc,IAAIR,SAAS,CAAC;MAEtCS,KAAK,EAAE,IAAIV,WAAW,CAAC,IAAI,EAAE,CAACE,UAAU,CAACS,QAAQ,EAAET,UAAU,CAACQ,KAAK,CAAC,CAAC;MACrEE,QAAQ,EAAE,IAAIZ,WAAW,CAAC,IAAI,EAAE,CAC9BE,UAAU,CAACS,QAAQ,EACnBT,UAAU,CAACW,OAAO,CAAC,UAAU,CAAC,CAC/B;KAGF,CAAC;EAOJ;EAEEC,QAAQA,CAACC,IAAe;IACtBC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;IAEjB,IAAI,CAACG,kBAAkB,CAACH,IAAI,CAAC;IAC3B,IAAI,CAACR,YAAY,GAAC,EAAE;IACtB,IAAGQ,IAAI,CAACI,KAAK,IAAI,CAAC,IAAI,CAACX,SAAS,EAAC;MACjC,IAAI,CAACA,SAAS,GAAC,IAAI;MAClB,IAAI,CAACH,YAAY,CAACe,MAAM,CAACL,IAAI,CAACM,KAAK,CAAC,CAACC,SAAS,CAC7C;QACGC,IAAI,EAAEC,IAAI,IAAG;UAEZR,OAAO,CAACC,GAAG,CAACO,IAAI,CAAC;UACjB,IAAGA,IAAI,CAACC,OAAO,IAAE,SAAS,EAAC;YACzB,IAAI,CAACnB,OAAO,CAACoB,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;;QAEpC,CAAC;QACDC,KAAK,EAAEC,GAAG,IAAG;UACZZ,OAAO,CAACC,GAAG,CAACW,GAAG,CAAC;UAChB,IAAI,CAACrB,YAAY,GAACqB,GAAG,CAACD,KAAK,CAACF,OAAO;UAEnC,IAAI,CAACjB,SAAS,GAAC,KAAK;QACrB;OAEF,CACD;;EAEJ;EAEAU,kBAAkBA,CAACH,IAAe;IAChC;IACAc,MAAM,CAACC,MAAM,CAACf,IAAI,CAACgB,QAAQ,CAAC,CAACC,OAAO,CAAEC,OAAY,IAAI;MACpDA,OAAO,CAACC,aAAa,EAAE;MACvB,IAAID,OAAO,CAACF,QAAQ,EAAE;QACpB,IAAI,CAACb,kBAAkB,CAACe,OAAO,CAAC;;IAEpC,CAAC,CAAC;EACJ;CAED;AA3DY9B,cAAc,GAAAgC,UAAA,EAL1BpC,SAAS,CAAC;EACTqC,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,C,EACWnC,cAAc,CA2D1B"},"metadata":{},"sourceType":"module","externalDependencies":[]}